(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2844:function(e,t,a){Promise.resolve().then(a.bind(a,2918))},2918:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j}});var l=a(7437),i=a(2173);function n(e){let{onClick:t}=e;return(0,l.jsx)("button",{className:"rounded-lg border border-solid border-slate-300 py-2 px-5 leading-5 text-sm",type:"button",onClick:t,children:"Add"})}var c=a(6691),o=a.n(c),d=a(2265),s=a(7195),r=a(993);function u(e){let{items:t,fieldData:{value:a,valid:i},onChange:n}=e,[c,u]=(0,d.useState)(""),b=""===c?t:t.filter(e=>e.label.toLowerCase().replace(/\s+/g,"").includes(c.toLowerCase().replace(/\s+/g,"")));return(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)(s.h,{value:a,onChange:n,children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("div",{className:"relative w-full cursor-default overflow-hidden  bg-white text-left focus:outline-none focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-teal-300 sm:text-sm",children:[(0,l.jsx)(s.h.Input,{className:"w-full border border-solid ".concat(i?"border-slate-300":"border-orange-500"," truncate border- py-2 rounded-lg pl-3 pr-6 text-sm leading-5 text-gray-900 focus:ring-0"),displayValue:e=>e.label,onChange:e=>u(e.target.value)}),(0,l.jsx)(s.h.Button,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:(0,l.jsx)(o(),{src:"/caret-up-down.svg",height:16,width:16,alt:"Toggle Dropdown"})})]}),(0,l.jsx)(r.u,{as:d.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:()=>u(""),children:(0,l.jsx)(s.h.Options,{className:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm z-10",children:0===b.length&&""!==c?(0,l.jsx)("div",{className:"relative cursor-default select-none px-4 py-2 text-gray-700",children:"Nothing found."}):b.map(e=>(0,l.jsx)(s.h.Option,{className:e=>{let{active:t}=e;return"relative cursor-default select-none py-2 pl-3 pr-4 ".concat(t?"bg-accent text-white":"text-gray-900")},value:e,children:t=>{let{selected:a}=t;return(0,l.jsx)("span",{className:"block truncate ".concat(a?"font-medium":"font-normal"),children:e.label})}},e.id))})})]})})})}var b=JSON.parse('[{"id":"Email","label":"Email"},{"id":"FirstName","label":"First Name"},{"id":"LastName","label":"Last Name"},{"id":"Company","label":"Company"},{"id":"Title","label":"Title"},{"id":"Phone","label":"Phone"},{"id":"LinkedIn","label":"LinkedIn"},{"id":"CampaignId","label":"Campaign Id"},{"id":"CampaignName","label":"Campaign Name"}]');function p(e){let{fieldData:t,onChange:a}=e;return(0,l.jsx)(u,{items:b,fieldData:t,onChange:a})}var m=JSON.parse('[{"id":"lead.IsDeleted","label":"Lead Deleted"},{"id":"lead.LastName","label":"Lead Last Name"},{"id":"lead.FirstName","label":"Lead First Name"},{"id":"lead.Salutation","label":"Lead Salutation"},{"id":"lead.Name","label":"Lead Full Name"},{"id":"lead.Title","label":"Lead Title"},{"id":"lead.Company","label":"Lead Company"},{"id":"lead.Street","label":"Lead Street"},{"id":"lead.City","label":"Lead City"},{"id":"lead.State","label":"Lead State/Province"},{"id":"lead.PostalCode","label":"Lead Zip/Postal Code"},{"id":"lead.Country","label":"Lead Country"},{"id":"lead.Latitude","label":"Lead Latitude"},{"id":"lead.Longitude","label":"Lead Longitude"},{"id":"lead.GeocodeAccuracy","label":"Lead Geocode Accuracy"},{"id":"lead.Address","label":"Lead Address"},{"id":"lead.Phone","label":"Lead Phone"},{"id":"lead.MobilePhone","label":"Lead Mobile Phone"},{"id":"lead.Email","label":"Lead Email"},{"id":"lead.Website","label":"Lead Website"},{"id":"lead.PhotoUrl","label":"Lead Photo URL"},{"id":"lead.Description","label":"Lead Description"},{"id":"lead.LeadSource","label":"Lead Lead Source"},{"id":"lead.Status","label":"Lead Status"},{"id":"lead.Industry","label":"Lead Industry"},{"id":"lead.Rating","label":"Lead Rating"},{"id":"lead.AnnualRevenue","label":"Lead Annual Revenue"},{"id":"lead.NumberOfEmployees","label":"Lead Employees"},{"id":"lead.IsConverted","label":"Lead Converted"},{"id":"lead.ConvertedDate","label":"Lead Converted Date"},{"id":"lead.IsUnreadByOwner","label":"Lead Unread By Owner"},{"id":"lead.CreatedDate","label":"Lead Created Date"},{"id":"lead.LastModifiedDate","label":"Lead Last Modified Date"},{"id":"lead.SystemModstamp","label":"Lead System Modstamp"},{"id":"lead.LastActivityDate","label":"Lead Last Activity"},{"id":"lead.LastViewedDate","label":"Lead Last Viewed Date"},{"id":"lead.LastReferencedDate","label":"Lead Last Referenced Date"},{"id":"lead.Jigsaw","label":"Lead Data.com Key"},{"id":"lead.EmailBouncedReason","label":"Lead Email Bounced Reason"},{"id":"lead.EmailBouncedDate","label":"Lead Email Bounced Date"}]');function C(e){let{fieldData:t,onChange:a}=e;return(0,l.jsx)(u,{items:m,fieldData:t,onChange:a})}var h=JSON.parse('[{"id":"contact.IsDeleted","label":"Contact Deleted"},{"id":"contact.LastName","label":"Contact Last Name"},{"id":"contact.FirstName","label":"Contact First Name"},{"id":"contact.Salutation","label":"Contact Salutation"},{"id":"contact.Name","label":"Contact Full Name"},{"id":"contact.OtherStreet","label":"Contact Other Street"},{"id":"contact.OtherCity","label":"Contact Other City"},{"id":"contact.OtherState","label":"Contact Other State/Province"},{"id":"contact.OtherPostalCode","label":"Contact Other Zip/Postal Code"},{"id":"contact.OtherCountry","label":"Contact Other Country"},{"id":"contact.OtherLatitude","label":"Contact Other Latitude"},{"id":"contact.OtherLongitude","label":"Contact Other Longitude"},{"id":"contact.OtherGeocodeAccuracy","label":"Contact Other Geocode Accuracy"},{"id":"contact.OtherAddress","label":"Contact Other Address"},{"id":"contact.MailingStreet","label":"Contact Mailing Street"},{"id":"contact.MailingCity","label":"Contact Mailing City"},{"id":"contact.MailingState","label":"Contact Mailing State/Province"},{"id":"contact.MailingPostalCode","label":"Contact Mailing Zip/Postal Code"},{"id":"contact.MailingCountry","label":"Contact Mailing Country"},{"id":"contact.MailingLatitude","label":"Contact Mailing Latitude"},{"id":"contact.MailingLongitude","label":"Contact Mailing Longitude"},{"id":"contact.MailingGeocodeAccuracy","label":"Contact Mailing Geocode Accuracy"},{"id":"contact.MailingAddress","label":"Contact Mailing Address"},{"id":"contact.Phone","label":"Contact Business Phone"},{"id":"contact.Fax","label":"Contact Business Fax"},{"id":"contact.MobilePhone","label":"Contact Mobile Phone"},{"id":"contact.HomePhone","label":"Contact Home Phone"},{"id":"contact.OtherPhone","label":"Contact Other Phone"},{"id":"contact.AssistantPhone","label":"Contact Asst. Phone"},{"id":"contact.Email","label":"Contact Email"},{"id":"contact.Title","label":"Contact Title"},{"id":"contact.Department","label":"Contact Department"},{"id":"contact.AssistantName","label":"Contact Assistant\'s Name"},{"id":"contact.LeadSource","label":"Contact Lead Source"},{"id":"contact.Birthdate","label":"Contact Birthdate"},{"id":"contact.Description","label":"Contact Contact Description"},{"id":"contact.CreatedDate","label":"Contact Created Date"},{"id":"contact.LastModifiedDate","label":"Contact Last Modified Date"},{"id":"contact.SystemModstamp","label":"Contact System Modstamp"},{"id":"contact.LastActivityDate","label":"Contact Last Activity"},{"id":"contact.LastCURequestDate","label":"Contact Last Stay-in-Touch Request Date"},{"id":"contact.LastCUUpdateDate","label":"Contact Last Stay-in-Touch Save Date"},{"id":"contact.LastViewedDate","label":"Contact Last Viewed Date"},{"id":"contact.LastReferencedDate","label":"Contact Last Referenced Date"},{"id":"contact.EmailBouncedReason","label":"Contact Email Bounced Reason"},{"id":"contact.EmailBouncedDate","label":"Contact Email Bounced Date"},{"id":"contact.IsEmailBounced","label":"Contact Is Email Bounced"},{"id":"contact.PhotoUrl","label":"Contact Photo URL"},{"id":"contact.Jigsaw","label":"Contact Data.com Key"},{"id":"account.IsDeleted","label":"Account Deleted"},{"id":"account.Name","label":"Account Account Name"},{"id":"account.Type","label":"Account Account Type"},{"id":"account.BillingStreet","label":"Account Billing Street"},{"id":"account.BillingCity","label":"Account Billing City"},{"id":"account.BillingState","label":"Account Billing State/Province"},{"id":"account.BillingPostalCode","label":"Account Billing Zip/Postal Code"},{"id":"account.BillingCountry","label":"Account Billing Country"},{"id":"account.BillingLatitude","label":"Account Billing Latitude"},{"id":"account.BillingLongitude","label":"Account Billing Longitude"},{"id":"account.BillingGeocodeAccuracy","label":"Account Billing Geocode Accuracy"},{"id":"account.BillingAddress","label":"Account Billing Address"},{"id":"account.ShippingStreet","label":"Account Shipping Street"},{"id":"account.ShippingCity","label":"Account Shipping City"},{"id":"account.ShippingState","label":"Account Shipping State/Province"},{"id":"account.ShippingPostalCode","label":"Account Shipping Zip/Postal Code"},{"id":"account.ShippingCountry","label":"Account Shipping Country"},{"id":"account.ShippingLatitude","label":"Account Shipping Latitude"},{"id":"account.ShippingLongitude","label":"Account Shipping Longitude"},{"id":"account.ShippingGeocodeAccuracy","label":"Account Shipping Geocode Accuracy"},{"id":"account.ShippingAddress","label":"Account Shipping Address"},{"id":"account.Phone","label":"Account Account Phone"},{"id":"account.Fax","label":"Account Account Fax"},{"id":"account.Website","label":"Account Website"},{"id":"account.PhotoUrl","label":"Account Photo URL"},{"id":"account.Industry","label":"Account Industry"},{"id":"account.AnnualRevenue","label":"Account Annual Revenue"},{"id":"account.NumberOfEmployees","label":"Account Employees"},{"id":"account.Description","label":"Account Account Description"},{"id":"account.CreatedDate","label":"Account Created Date"},{"id":"account.LastModifiedDate","label":"Account Last Modified Date"},{"id":"account.SystemModstamp","label":"Account System Modstamp"},{"id":"account.LastActivityDate","label":"Account Last Activity"},{"id":"account.LastViewedDate","label":"Account Last Viewed Date"},{"id":"account.LastReferencedDate","label":"Account Last Referenced Date"},{"id":"account.Jigsaw","label":"Account Data.com Key"},{"id":"account.AccountSource","label":"Account Account Source"},{"id":"account.SicDesc","label":"Account SIC Description"}]');function g(e){let{fieldData:t,onChange:a}=e;return(0,l.jsx)(u,{items:h,fieldData:t,onChange:a})}function L(e){let{onDelete:t}=e;return(0,l.jsx)("button",{className:"absolute top-1/3 -left-8",onClick:t,children:(0,l.jsx)(o(),{className:"relative -top-1/4",src:"/delete.svg",width:14,height:14,alt:"Delete Field Mapping"})})}function f(e){let{fieldMap:t,onChange:a,onDelete:i}=e;function n(e){return l=>{let i={...t[e],value:l};a({...t,[e]:i})}}return(0,l.jsx)("div",{className:"col-span-3",children:(0,l.jsxs)("div",{className:"grid grid-cols-layout items-center gap-2",children:[(0,l.jsxs)("div",{className:"relative",children:[i?(0,l.jsx)(L,{onDelete:i}):null,(0,l.jsx)(p,{fieldData:t.riftField,onChange:n("riftField")})]}),(0,l.jsx)("div",{className:"center",children:(0,l.jsx)(o(),{src:"/arrows-split.svg",width:20,height:20,alt:"Maps to CRM Fields",priority:!0})}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)(C,{fieldData:t.topCrmField,onChange:n("topCrmField")}),(0,l.jsx)(g,{fieldData:t.bottomCrmField,onChange:n("bottomCrmField")})]})]})})}function y(e){let{fieldMaps:t,onChange:a,onDelete:i}=e,n=t.length>1;return t.map((e,t)=>(0,l.jsx)(f,{fieldMap:e,onChange:e=>a(t,e),onDelete:n?()=>i(t):null},t))}function v(e){let{onClick:t,disabled:a}=e;return(0,l.jsx)("button",{className:"rounded-lg text-white bg-accent py-2 px-12 leading-5 text-sm disabled:bg-slate-300",disabled:a,onClick:t,type:"button",children:"Submit"})}let A={value:{id:"",label:""},valid:!0},S={riftField:A,topCrmField:A,bottomCrmField:A};function D(e,t,a){var l,i;return function(e,t,a){let l=e[t].value.id;return a.map(e=>{let{[t]:{value:{id:a}}}=e;return a}).filter(e=>""!==e&&e===l).length<=1}(e,t,a)&&(l=e[t],i=Object.values(e),""!==l.value.id||i.every(e=>{let{value:{id:t}}=e;return""===t}))}function x(e){let t=[...e],a=e.some(e=>{let{riftField:t}=e;return""!==t.value.id});return e.forEach((l,i)=>{let{riftField:n,topCrmField:c,bottomCrmField:o}=l,{riftFieldValid:d,topCrmFieldValid:s,bottomCrmFieldValid:r}={riftFieldValid:D(l,"riftField",e),topCrmFieldValid:D(l,"topCrmField",e),bottomCrmFieldValid:D(l,"bottomCrmField",e)};t[i]={riftField:{value:n.value,valid:d},topCrmField:{value:c.value,valid:s},bottomCrmField:{value:o.value,valid:r}},d&&s&&r||(a=!1)}),{formIsValid:a,fieldMaps:t}}function N(e,t){let{formIsValid:a,fieldMaps:l}=e;switch(t.type){case"add":return{formIsValid:a,fieldMaps:[...l,S]};case"update":{let e=[...l];return e[t.index]=t.value,x(e)}case"delete":let i=[...l.slice(0,t.index),...l.slice(t.index+1)];return x(i);default:throw Error("Unknown action type")}}var M=a(4033);function j(){let[{formIsValid:e,fieldMaps:t},a]=(0,d.useReducer)(N,{fieldMaps:[S],formIsValid:!1}),c=(0,M.useRouter)();async function o(){await i.Z.post("http://www.httpbin.org/post",{data:t.map(e=>{let{riftField:t,topCrmField:a,bottomCrmField:l}=e;return{riftField:t.value.id,topCrmField:a.value.id,bottomCrmField:l.value.id}}).filter(e=>{let{riftField:t,topCrmField:a,bottomCrmField:l}=e;return[t,a,l].every(e=>""!==e)})}),console.log("SUCCESS"),c.push("/submitted")}return(0,l.jsxs)("div",{className:"grid grid-cols-layout gap-y-6",children:[(0,l.jsx)("div",{className:"col-span-2",children:"rift"}),(0,l.jsx)("div",{children:"CRMs"}),(0,l.jsx)(y,{fieldMaps:t,onChange:function(e,t){a({type:"update",index:e,value:t})},onDelete:function(e){a({type:"delete",index:e})}}),(0,l.jsx)("div",{className:"col-span-3 flex justify-start",children:(0,l.jsx)(n,{onClick:()=>a({type:"add"})})}),(0,l.jsx)("div",{className:"col-span-3 flex justify-end",children:(0,l.jsx)(v,{onClick:o,disabled:!e})})]})}}},function(e){e.O(0,[30,971,472,744],function(){return e(e.s=2844)}),_N_E=e.O()}]);